const t=Math.floor,e=Math.random,i=Math.min,r=(i,r)=>t(e()*(r-i+1)+i);class o{constructor(t,e){this.board=[],this.generate(t,e),this.fill()}generate(t=2,e=2){for(let i=0;i<e;i++){this.board[i]=[];for(let e=0;e<t;e++)this.board[i][e]=Array(9).fill("empty")}}fill(){for(let t=0;t<this.board.length;t++)for(let e=0;e<this.board[t].length;e++){let i=["1","2","3","4","5","6","7","8","9"],o=r(0,4);for(let l=0;l<o;l++){let o=i[r(0,i.length-1)],l=r(0,2),h=r(0,2),n=this.set(e,t,l,h,o);for(;!n;)l=r(0,2),h=r(0,2),o=i[r(0,i.length-1)],n=this.set(e,t,l,h,o)}}}check(t,e,i,r,o){if("empty"===o)return!0;for(let r=0;r<e;r++)for(let e=0;e<3;e++)if(+this.board[r][t][3*e+i]==+o)return!1;for(let r=e+1;r<this.board.length;r++)for(let e=0;e<3;e++)if(+this.board[r][t][3*e+i]==+o)return!1;for(let i=0;i<t;i++)for(let t=0;t<3;t++)if(+this.board[e][i][3*r+t]==+o)return!1;for(let i=t+1;i<this.board[0].length;i++)for(let t=0;t<3;t++)if(+this.board[e][i][3*r+t]==+o)return!1;return!0}checkIfValueExists(t,e,i){return"empty"!==i&&-1!==this.board[e][t].filter(t=>"empty"!==t).findIndex(t=>+t==+i)}set(t,e,i,r,o){return!(!this.check(t,e,i,r,o)||this.checkIfValueExists(t,e,o))&&(this.board[e][t][3*r+i]=o,!0)}get(t,e,i,r){return this.board[e][t][3*r+i]}}let l,h,n,s,a,d={x:void 0,y:void 0,x1:void 0,y1:void 0},f,g,c,y,u;function b(t,e,i,r,o="white",l=1){h.beginPath(),h.moveTo(t,e),h.lineTo(i,r),h.strokeStyle=o,h.lineWidth=l,h.stroke()}function w({startX:t,startY:e,width:i,height:r,color:o,lineWidth:l,columns:h=3,rows:n=3}){for(let n=0;n<h-1;n++)b(t+i/h*(n+1),e,t+i/h*(n+1),e+r,o,l);for(let h=0;h<n-1;h++)b(t,e+r/n*(h+1),t+i,e+r/n*(h+1),o,l)}function x(){h.clearRect(0,0,l.width,l.height),w({startX:f,startY:g,width:c,height:c,columns:n.board[0].length,rows:n.board.length,lineWidth:3});for(let t=0;t<n.board.length;t++)for(let e=0;e<n.board[0].length;e++)w({startX:f+e*y,startY:g+t*u,width:y,height:u,columns:n.board[0].length,rows:n.board.length});!function(e,r){let o=i(l.width,l.height)/100*5,s=0,a=0;for(let i=0;i<e*e;i++){3===s&&(s=0);for(let l=0;l<r*r;l++){var d,c,b,w,x;3===a&&(a=0);let m=n.get(t(l/e),t(i/r),a,s);"empty"===m&&(m="");let v="white";"string"==typeof m&&(v="rgb(255, 0, 217)"),d=f+y*l/3+.8*o,c=g+u*i/3+1.45*o,b=m,w=v,x=`${o}px Arial`,h.beginPath(),h.fillStyle=w,h.font=x,h.fillText(b,d,c),a++}s++}}(n.board[0].length,n.board.length)}function m(){s.style.top=0,s.style.left=0,s.classList.remove("active"),l.width=innerWidth,l.height=innerHeight,y=(c=i(l.width,l.height)-i(l.width,l.height)/100*5)/n.board[0].length,u=c/n.board.length,f=l.width/2-y-y/2,g=l.height/2-u-u/2}window.addEventListener("load",()=>{a=(s=document.querySelector(".modal")).getBoundingClientRect(),h=(l=document.querySelector("canvas")).getContext("2d"),l.width=innerWidth,l.height=innerHeight,n=new o(3,3),m(),x(),l.addEventListener("mousedown",({offsetX:e,offsetY:i})=>{if(s.classList.remove("active"),e<f||e>f+c||i<g||i>g+c)return;let r=t(e-f),o=t(i-g),l=t(r/y),h=t(o/y),n=t(r/t(y/3))-3*l,b=t(o/t(u/3))-3*h;d.x=l,d.y=h,d.x1=n,d.y1=b,s.classList.add("active"),e+a.width/2>f+c?s.style.left=f+c-a.width+"px":e-a.width/2<f?s.style.left=f+"px":s.style.left=e-a.width/2+"px",i+a.height+20>g+c?s.style.top=g+c-a.height+"px":s.style.top=i+20+"px"}),s.addEventListener("click",({target:t})=>{if("BUTTON"===t.tagName&&("string"!=typeof n.get(d.x,d.y,d.x1,d.y1)||"empty"===n.get(d.x,d.y,d.x1,d.y1))){if(t.classList.contains("clear")){n.set(d.x,d.y,d.x1,d.y1,"empty"),x();return}n.set(d.x,d.y,d.x1,d.y1,+t.dataset.value),x(),s.classList.remove("active")}})}),window.addEventListener("resize",()=>{m(),x()});
//# sourceMappingURL=index.bc328b24.js.map
